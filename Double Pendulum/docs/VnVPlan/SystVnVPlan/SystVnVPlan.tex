\documentclass[12pt, titlepage]{article}

\usepackage{booktabs}
\usepackage{tabularx}
\usepackage{hyperref}
\usepackage{amsmath, mathtools}
\usepackage{amsfonts}
\usepackage{amssymb}
\usepackage{graphicx}
\usepackage{colortbl}
\usepackage{xr}
\usepackage{hyperref}
\usepackage{longtable}
\usepackage{xfrac}
\usepackage{tabularx}
\usepackage{float}
\usepackage{siunitx}
\usepackage{booktabs}
\usepackage{caption}
\usepackage{pdflscape}
\usepackage{afterpage}
\usepackage{cool}
\usepackage{comment}
\usepackage{adjustbox}

\restylefloat{table}

 
\hypersetup{
    colorlinks,
    citecolor=black,
    filecolor=black,
    linkcolor=red,
    urlcolor=blue
}
\usepackage[round]{natbib}

\newcounter{reqnum} %Requirement Number
\newcommand{\rthereqnum}{P\thereqnum}
\newcommand{\rref}[1]{R\ref{#1}}

\input{../../Comments.tex}
\input{../../Common.tex}

\begin{document}

\title{System Verification and Validation Plan for Double Pendulum} 
\author{Zhi Zhang}
\date{\today}
	
\maketitle

\pagenumbering{roman}

\section{Revision History}

\begin{tabularx}{\textwidth}{p{3cm}p{2cm}X}
\toprule {\bf Date} & {\bf Version} & {\bf Notes}\\
\midrule
Oct.30 & 1.0 & Initial Draft\\

\bottomrule
\end{tabularx}

\newpage

\tableofcontents

\listoftables

\listoffigures

\newpage

\section{Symbols, Abbreviations and Acronyms}

\renewcommand{\arraystretch}{1.2}
\begin{tabular}{l l} 
  \toprule		
  \textbf{symbol} & \textbf{description}\\
  \midrule 
  VnV & Verification and Validation\\
  SRS & Software Requirements Specification\\
  FR & Functional Requirements\\
  NFR & Nonfunctional Requirements\\
  \bottomrule
\end{tabular}\\

\newpage

\pagenumbering{arabic}

This document provides an overview of the Verification and Validation(VnV) plan
for Double Pendulum. The general information is introduced in
section~\nameref{sec_generalInfo}. SRS, design, implementation verification plan
and software validation plan is introduced in section~\nameref{sec_Plan}. In
section~\nameref{sec_sysTest}, tests for both FR and NFR of Double Pendulum will
be discussed, with the traceability between test cases and requirements.

\section{General Information}\label{sec_generalInfo}

\subsection{Summary}

The software to be tested is Double Pendulum. This software allows user to input
the initial conditions of double pendulum, calculates the equations for the
movements of the two pendulums, and then output the result to a text file.

\subsection{Objectives}

The objective of the VnV plan is to verify the FR and NFR, as found in the SRS
titled Double Pendulum, has been met. The most important requirement is the
correctness of the software, the goal is to build confidence in the software
correctness by comparing the outputs of the software with the Double Pendulum
tool from myPhysicsLab.com~\cite{Double_Pendulum}. Adequate usability also needs
to be achieved since the software is designed for any user who is interested in
the motion of a double pendulum.
 
\subsection{Relevant Documentation}

The relevant documentations are:
\begin{itemize}
    \item SRS
    \item Unit VnV Plan
\end{itemize}

\wss{You should cite these documents, including the GitHub url for their
  location.  You should also mention all of the documents that you will write
  for this course, even though they are not all complete.}

\section{Plan}\label{sec_Plan}
	

\subsection{Verification and Validation Team}

\begin{itemize}
    \item Zhi Zhang
\end{itemize}

\wss{You should also list your colleagues in the class, because they will be
  helping you with the VnV efforts.}

\subsection{SRS Verification Plan}

The SRS verification plan will include feedback from author's professor and
classmates, mainly the domain expert.  \wss{The review would be more useful if
  it was more structured.  Maybe you have some ideas for a way to structure the
  review?  Maybe there can be a task-based review?}

\subsection{Design Verification Plan}

The design verification plan will include feedback from author's professor and
classmates, mainly the domain expert.
\wss{As for the SRS, you can flesh this out in greater detail.  Peter has a nice
  design verification plan in his document.}

\wss{Plans for design verification}

\subsection{Implementation Verification Plan}

The implementation verification plan will include the followings:
\begin{itemize}
    \item Code walkthroughs: both the developer and the domain expert will
inspect the code to ensure all the requirements of the SRS are met. \wss{How is
  this going to be done?  How will the walkthrough be structured?  What
  reference are you going to follow?}
    \item Unit testing: all modules are to be unit tested to ensure correctness,
more details of unit testing can be found in the Unit Testing Plan. \wss{What
  technology will you use for unit testing?}
    \item Dynamic testing: the software will be executed and all its functions
will be tested mannually by test team.
\end{itemize}


\subsection{Software Validation Plan}

N/A \wss{I agree, but you should say why it is N/A.}


\section{System Test Description}\label{sec_sysTest}
	
\subsection{Tests for Functional Requirements}

There are five functional requirements described in section 5.1 \wss{You can
  cross-reference between documents in \LaTeX} of the SRS.  \wss{Copying the
  requirements here is a maintenance nightmare.}

\noindent \begin{itemize}

\item[R\refstepcounter{reqnum}\thereqnum \label{R_Inputs}:] Input the required
values into the corresponding area.
\item[R\refstepcounter{reqnum}\thereqnum \label{R_VarifyInputs}:] Check the
entered input values to ensure that they do not exceed the data constraints.
\item[R\refstepcounter{reqnum}\thereqnum \label{R_Calculate}:] Calculate the
equation for the following values: $\theta_1$(t) and $\theta_1$(t).
\item[R\refstepcounter{reqnum}\thereqnum \label{R_Output}:] Output the results
to a file.
\item[R\refstepcounter{reqnum}\thereqnum \label{R_Graphs}:] Output graphs of
$\theta_1$(t) and $\theta_1$(t).

Double Pendulum shall verify that the inputs are valid, shall guarantee the
calculation is correct and the outputs are in the correct form.

Detailed test plan for the five functional requirements will be covered in the
next five subsections.
\end{itemize}

\subsubsection{Input Verification}\label{InputVerif}

\begin{table}[H]
  \caption{Input Variables} \label{TblInputVar}
  \renewcommand{\arraystretch}{1.2}
\noindent \begin{longtable*}{l l l l c} 
  \toprule
  \textbf{Var} & \textbf{Physical Constraints} & \textbf{Software Constraints} &
                             \textbf{Typical Value} & \textbf{Uncertainty}\\
  \midrule 
  $m_1$ & $m_1 > 0$ & - & \si[per-mode=symbol] {\kilogram} & 10\%
  \\
  $m_2$ & $m_2 > 0$ & - & \si[per-mode=symbol] {\kilogram} & 10\%
  \\
  $L_1$ & $L_1 > 0$ & - & \si[per-mode=symbol] {\metre} & 10\%
  \\
  $L_2$ & $L_2 > 0$ & - & \si[per-mode=symbol] {\metre} & 10\%
  \\
  $\theta_1$ & $\theta_1 \neq 0$ & - & \si[per-mode=symbol] {\degree} & 10\%
  \\
  $\theta_2$ & $\theta_2 \neq 0$ & - & \si[per-mode=symbol] {\degree} & 10\%
  \\
  $g$ & $g > 0$ & - & \si[per-mode=symbol] {\newton\per\kilogram} & 10\%
  \\
  \bottomrule
\end{longtable*}
\end{table}

The above table is the data constraints table from SRS. The test in this section
covers requirements R.\ref{R_Inputs} and R.\ref{R_VarifyInputs}.

\wss{Why repeat this table from the SRS here?  Also, the table is wider than it
  has to be.}

\paragraph{Invalid Inputs}

\begin{enumerate}
					
\item{Non-positive Mass}

Control: Manual  
					
Initial State: Double Pendulum is started and running
					
Input: 
$m_1$ = -10
$m_2$ = 0
$L_1$ = 10
$L_2$	= 10			
$\theta_1$ = 10 
$\theta_2$ = 10
$g$ = 9.8

Output: An error message of "Please input positive value for the
mass". \wss{Quotes are done using ``quote''}

Test Case Derivation: Check if the error message pops up. 

How test will be performed: Manually input the above the Input data to the
software by test team. \wss{No, this test should be automated.  Rather than
  waiting for an error message, you should have unit tests that verify that the
  correct exception is raised.}

\item{Non-positive Length of Rods}  

Control: Manual 
          
Initial State: Double Pendulum is started and running
          
Input: 
$m_1$ = 10
$m_2$ = 20
$L_1$ = -10
$L_2$ = 0      
$\theta_1$ = 10 
$\theta_2$ = 10
$g$ = 9.8

\wss{You could use tables to make this document less repetitive.  Define the
  base test case and then give the delta to define the other test cases.}

Output: An error message of "Please input positive value for the the \wss{proof
  read} length of rods".

Test Case Derivation: Check if the error message pops up. 

How test will be performed: Manually input the above the Input data to the
software by test team.
           
\item{Zero Starting Angle}  

  Control: Manual  
          
  Initial State: Double Pendulum is started and running
          
  Input: $m_1$ = 10 $m_2$ = 10 $L_1$ = 10 $L_2$ = 10 $\theta_1$ = 0 $\theta_2$ =
  0 $g$ = 9.8 Output: An error message of "Please input non-zero value for the
  starting angle".

  Test Case Derivation: Check if the error message pops up.

  How test will be performed: Manually input the above the Input data to the
  software by test team.
  
\end{enumerate}

\paragraph{Valid Inputs}

\begin{enumerate}
          
\item{Valid Values}

Control: Manual
          
Initial State: Double Pendulum is started and running
          
Input: $m_1$ = 10 $m_2$ = 10 $L_1$ = 10 $L_2$ = 10 $\theta_1$ = 10 $\theta_2$ =
10 $g$ = 9.8 Output: The output file is generated and the graphs are displayed.

Test Case Derivation: Check if there is output file and the graphs.

How test will be performed: Manually input the above the Input data to the
software by test team.

\end{enumerate}

\subsubsection{Outputs Verification}\label{VRF_Output}

This section covers requirements R.\ref{R_Calculate}, R.\ref{R_Output} and
R.\ref{R_Graphs}.

\paragraph{Outputs Correctness Tests}

\begin{enumerate}

\item{File Created}  

Type: Manual
          
Initial State: Double Pendulum takes valid inputs
          
Input/Condition: Press Start button
          
Output/Result: An output file created 
          
How test will be performed: Test team will go to the directory of Double
Pendulum to check the existence of the output file. \wss{This isn't wrong, but
  it isn't a very necessary test.  You need a test to verify that the output is
  correct.  That test implicitly includes this test, so you don't really need to
  separate this out.}
          
\item{Graph Generated} 

Type: Dynamic, Manual 
          
Initial State: Double Pendulum takes valid inputs and the output file is
generated
          
Input/Condition: Press Graph button 
          
Output/Result: Graphs of $\theta_1$ and $\theta_2$ displayed on the screen of
the software
          
How test will be performed: Test team will manually press the Graph button and
check if the graph is displayed \wss{Aren't you also checking to see if the
  graph is correct?}

\item{Correct Output}  

Type: Dynamic, Manual 
          
Initial State: The graphs are generated 
          
Input/Condition: Compare the graphs to the graphs generated on
myPhysicsLab.com~\cite{Double_Pendulum} with the same inputs.
          
Output/Result: Check if the graphs match.
          
How test will be performed: Test team will manually input the same data into
myPhysicsLab.com~\cite{Double_Pendulum} and compare the graphs. 

\end{enumerate}

\wss{You are missing the most important tests.  You want tests that the output
  is correct.  Not in terms of the graphs (although you want that too), but in
  terms of the output calculations.  The calculations of theta over time.  You
  need to say where you are going to get the ``correct'' solution and how you
  are going to compare it.  A good starting point would be to compare a sequence
  of outputs generated over the same times steps between your program and
  another program that does the same thing.  You can then compare the relative
  error between each value at each time step.  You can then summarize the entire
  test with a reasonable norm, like the infinity norm, or the Euclidean norm.
  You should have a variety of tests with more and more extreme inputs.}

\wss{It would be great to see a comparison between your output and the output of
  a validated solver.  I haven't asked him, but I'm confident that Bo will help
  you to run Dr.\ Nedialkov's validated ODE solver.  It would be great to see
  how quickly your answer gets outside of the correct answer.  I think it will
  happen quicker than you think.  :-)}

  
\subsection{Tests for Nonfunctional Requirements}

There are five nonfunctional requirements described in section 6.1 of SRS.

\noindent \begin{itemize}

\item[NFR\refstepcounter{reqnum}\thereqnum \label{NFR_Correct}:] 
The outputs of the code have the properties described in table~\nameref{TblOutputVar}.
\item[NFR\refstepcounter{reqnum}\thereqnum \label{NFR_Verifiable}:]  
The code is tested with complete verification and validation plan.
\item[NFR\refstepcounter{reqnum}\thereqnum \label{NFR_Reusable}:]
The code is modularized. 
\item[NFR\refstepcounter{reqnum}\thereqnum \label{NFR_Maintainable}:] The
  traceability between requirements, assumptions, theoretical models, general
  definitions, data definitions, instance models, likely changes, unlikely
  changes, and modules is completely recorded in traceability matrices in teh
  SRS and module guide.
\item[NFR\refstepcounter{reqnum}\thereqnum \label{NFR_Portable}:]
The code is able to be run in different environments. 
\end{itemize}

\begin{table}[H]
\caption{Output Variables} \label{TblOutputVar}
\renewcommand{\arraystretch}{1.2}
\noindent \begin{longtable*}{l l} 
  \toprule
  \textbf{Var} & \textbf{Physical Constraints} \\
  \midrule 
  ${\theta_1}''$ & ${\theta_1}'' \neq 0$\\
  ${\theta_2}''$ & ${\theta_2}'' \neq 0$\\
  \bottomrule
\end{longtable*}
\end{table}

\subsubsection{Correctness and Verifiability}\label{CnV}
		
The correctness test covers the NFR~\ref{NFR_Correct}, and the verifiability
test covers the NFR ~\ref{NFR_Verifiable}. Both tests are to ensure that the
software meets the SRS, and they are been tested in the section
~\ref{VRF_Output}.

\subsubsection{Maintainability}\label{MainTest}
The maintainability test covers the NFR~\ref{NFR_Maintainable}. 
\paragraph{Maintainability Testing\\} 

Type: Manual, Nonfunctional, Dynamic
          
Initial State: N/A
          
Input/Condition: Existing Double Pendulum software
          
Output/Result: Update Double Pendulum software
          
How test will be performed: Test team will try to add new features to the
software or modify some parts of the software. \wss{You need to be more
  specific.  How would someone actually do this test?}

\subsubsection{Re-usability}\label{ReuseTest}
The re-usability test covers the NFR~\ref{NFR_Reusable}. 

\paragraph{Re-usability Testing\\}
Type: Manual, Nonfunctional

Initial State: N/A
          
Input/Condition: Existing Double Pendulum system
          
Output/Result: N/A
          
How test will be performed: Test team will perform code walk through to ensure
that all codes are modularized. \wss{This isn't a test, but it would be a good
  target for your code walkthrough exercise.  You need to flesh out the details
  though. What would this walkthrough look like.  How is modularity assessed?
  Also it is modularity that is being measured, not technically reusability.}

\subsubsection{Portability} \label{PortTest}
The portability test covers the NFR~\ref{NFR_Portable}.

\paragraph{Portability Testing\\}

\begin{enumerate}
\item{Portability on Windows System} 
Type: Manual, Dynamic

Initial State: Double Pendulum has been successfully installed on a Windows
system
          
Input/Condition: Operate the basic functions of the software
          
Output/Result: The software performs all functions
          
How test will be performed: The test will be performed by test team manually.

\item{Portability on MacOS system}

Type: Manual, Dynamic

Initial State: Double Pendulum has been successfully installed on a MacOS system
          
Input/Condition: Operate the basic functions of the software
          
Output/Result: The software performs all functions
          
How test will be performed: The test will be performed by test team manually.

\end{enumerate}

\wss{These tests are also not specific enough.  A simpler approach would be to
  run your regression tests on both platforms and report the results.}

\subsection{Traceability Between Test Cases and Requirements}

\begin{table}[H]
\centering
\begin{tabular}{|c|c|c|c|c|c|c|c|c|c|c|}
\hline
  & \rref{R_Inputs}& \rref{R_VarifyInputs} &  \rref{R_Calculate} & \rref{R_Output}
  & \rref{R_Graphs}& \rref{NFR_Correct}& \rref{NFR_Verifiable} &
                                                                 \rref{NFR_Reusable}
  & \rref{NFR_Maintainable} & \rref{NFR_Portable}\\
  
\hline
\ref{InputVerif}      &x&x&&&&&&&&\\ \hline
\ref{VRF_Output}     &&&x&x&x&&&&&\\ \hline
\ref{CnV}      &&&&x&x&x&x&&&\\ \hline
\ref{MainTest}      &&&&&&&& &x&\\ \hline
\ref{ReuseTest}      &&&&&&&&x&&\\ \hline
\ref{PortTest}      &&&&&&&&&&x\\  
\hline
\end{tabular}
\caption{Traceability Between Test Cases and Requirements}
\label{Table:R_trace}

\end{table}
		
\newpage    		
\bibliographystyle{plainnat}

\bibliography{../../../refs/References}

\wss{Your project is fairly straightforward Zhi.  If you want to aim for a
  maximum mark in this course, you'll need to do more than just implement your
  project.  One place where you could add some extra challenge to the project is
  to consider assessing usability.  I'm open to discussion if there is something
  else you would like to add instead.  Another idea was mentioned above - the
  idea of comparing to a validated ODE solver.  Other interesting options would
  be to use the method of manufactured solutions for verification.}

\newpage

\end{document}